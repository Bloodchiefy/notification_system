<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>README.html</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>

</head>

<body>

<h1>Einführung</h1>

<h2>Motivation</h2>

<p>Ich wollte ein kleines Projekt starten. Ein kleines Benachrichtigungssystem, dass mir alle wichtigen Benachrichtungen gibt, die ich brauche. Dazu habe ich mir folgendes vorgestellt:
1. Eine kleine Anwendung geschrieben in Python, die die wichtigen Informationen sammelt.
2. Eine kleine Webanwendung (in Python mit Flask), die die Informationen schön darstellt und in meinem internen Netzwerk verfügbar sind.</p>

<p>Im internen Netzwerk benötige ich das nur, damit muss ich mich auch nicht mit Datensicherheit beschäftigen. Außerdem wollte ich die Anwendung so einfach wie möglich halten, um damit ein kleines Tutorial starten. Dieses Tutorial soll das Codeergebnis, was ich erstellt habe, successive erklären, meine Gedanken und meine Recherchen zu jedem Arbeitsschritt darstellen. Auf diese Weise kann man vielleicht mehr lernen, und ich mein Vorgehen besser reflektieren.</p>

<h2>Arbeitsschritte</h2>

<h3>Datensammlung</h3>

<p>Ich habe mir das so vorgestellt, dass ich die Datensammlung und die Datendarstellung trenne. Die Datensammlung soll wenn möglich APIs abrufen können, sowie aber auch aus Webseitendaten (HTML-Daten) die notwendigen Informationen extrahieren können. Hier ist ein kleines Beispiel vorgestellt anhand der Webseite &ldquo;meddle.center&rdquo;:</p>

<p>Meine Idee war zuerst, dass man die gewünchten Informationen mit einem <code>curl</code>-Befehl holt, in eine Datei ablegt, den HTML-Text liest und sich daraus das Wichtigeste extrahieren lässt. Für die <code>curl</code>-Funktion in Python habe ich zuerst die Bibliothek <code>urllib.request</code> verwendet, jedoch hat sich herausgestellt, dass für meinen Anwendungszweck sich die Bibliothek <code>requests</code> besser eignet.</p>

<p>Dann musste ich mir überlegen, wie ich die Informationen abspeichere und im Arbeitsspeicher halte. Dafür habe ich eine Klasse erstellt namens <code>Notification</code>:</p>

<p><strong>project/notification.py</strong>
<code>python
class Notification:
    def __init__(self, id, epoch, source, topic, description):
        self.id = id
        self.epoch = epoch
        self.source = source
        self.topic = topic
        self.description = description
</code></p>

<p>Damit habe ich auch gleichzeitig die wichtigsten Attribute festgelegt, die ich für relevant halte:</p>

<ul>
<li><p>id: Wurde testweise erstellt, ist aber eigentlich nicht wichtig. Das soll ein integer sein, der von 0-29 (beides inklusive) geht und für jede Quelle (jede Webseite, von der ich benachrichtigt werden möchte) nur in diesem Bereich operiert. Ich möchte nur die 30 letzten Aktualisierungen von der Webseite erhalten, dies erspart mir Speicher und sollte genug Information sein.</p></li>
<li><p>epoch: Soll den Zeitpunkt speichern, an dem die Benachrichtigung hinzugefügt wurde. Dies ist dann für die Sortierung der Benachrichtigungen wichtig.<br><br></p></li>
<li><p>source: Quelle der Benachrichtigung <em>(in unserem Beispiel das &ldquo;meddl.center&rdquo;)</em><br><br></p></li>
<li><p>topic: Soll den Titel der Benachrichtigung beinhalten <em>(in unserem Beispiel den Titel des Videos, den das <code>meddl.center</code> vergeben hat)</em><br><br></p></li>
<li><p>description: Beschreibung der Benachrichtigung <em>(zum Beispiel den Titel des neu hochgeladenen Videos von unserem allseits beliebten Drachenlord)</em><br><br></p></li>
</ul>


<p>Bevor wir mit dem Coden beginnen, sollte ich erklären, warum ich mich für die Repräsentation der Benachrichtigung als Klasse entschieden habe. Der Grund ist, dass ich somit leichter auf die Attribute einer Benachrichtigung zugreifen kann, ohne mich um Reihenfolgen der Attribute kümmern müsste. Hier ein kleines Codebeispiel, wie ich das mit Listen (ähnlich zu Arrays in java) machen kann.</p>

<p>```python
notification = (0, &ldquo;2020-12-27 12:00:00.123093&rdquo;, &ldquo;meddl.center&rdquo;, &ldquo;Drachenlord Youtube 24.12.2020 #reupload [02:28:16h]&rdquo;, &ldquo;Frohe Weinachten mit Marvins Mittens&rdquo;)</p>

<p>epoch = notification[1] # Holt den Zeitpunkt der Benachrichtigung
description = notification[4] # Holt die Beschreibung der Benachrichtigung
```</p>

<p>Hier ein kurzes Beispiel zum Aufruf, wenn ich die oben beschriebene Klasse hätte:</p>

<p>```python
notification = Notification(0, &ldquo;2020-12-27 12:00:00.123093&rdquo;, &ldquo;meddl.center&rdquo;, &ldquo;Drachenlord Youtube 24.12.2020 #reupload [02:28:16h]&rdquo;, &ldquo;Frohe Weinachten mit Marvins Mittens&rdquo;)</p>

<p>epoch = notification.epoch
description = notification.description
```</p>

<p>Wie man sehen kann, benötige ich im zweiten Beispiel keine Arrayklammern, und ich muss nicht zählen, auf welcher Position die gewünschte Information in der Liste steht. Nach einer kurzen Recherche zu <a href="https://docs.python.org/3/tutorial/classes.html#class-definition-syntax">Klassen in Python</a> mache ich also folgendes:
1. Erstelle einen Ordner mit dem Namen des Projekts <em>(zum Beispiel &ldquo;notificationSystem&rdquo;)</em>:
<code>sh
mkdir notificationSystem
</code></p>

<ol>
<li><p>Erstelle eine neue Datei in dem Ordner mit dem Namen <code>notification.py</code>:
<code>sh
cd notificationSystem
touch notification.py
</code></p></li>
<li><p>Öffne die Datei mit einem Texteditor deiner Wahl (hier wird emacs verwendet) und schreibe den oben beschriebenen Code der Klasse in die Datei rein:</p></li>
</ol>


<p><code>sh
emacs notification.py &amp;
</code></p>

<p>In den &#60;Insert&#62;-Mode wechseln mit <code>i</code> und den Code von oben abtippen. \
Dann speichern mit C-x C-s (Ctrl-x Ctrl-s).</p>

<p>Damit ist die erste Vorbereitung des Projektes erledigt. Normalerweise sollte man sich als nächstes mit der Speicherung der Daten beschäftigen, aber so habe ich es nicht gemacht, denn ich wollte zuerst ein bisschen rumprobieren, wie ich mit den HTML-Daten umgehen muss, die Informationen, die ich haben möchte rausziehen kann, und dann in Objekte meiner Klasse <code>Notification</code> umwandeln kann. Deshalb wird auch in diesem Tutorial so vorgegangen.</p>

<p>Deshalb erstellen wir nun eine neue python-Datei, in der wir die Methoden zur Datensammlung definieren. Wir nennen diese Datei &ldquo;pullLastUpdates.py&rdquo; und speichern diese im selben Ordner (dem Projekt-Ordner) ab.</p>

<p><code>sh
touch pullLastUpdates.py
</code></p>

</body>
</html>
